<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from weddinghappy95.iwedding.info/invitation/661cd02152a28ec3a0074131?v=1713164946951 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 21 Oct 2024 14:23:22 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<meta name="author" content="Biihappy">
<title>Thân mời bạn và gia đình !</title>
<meta name="description" content="Trân trọng kính mời bạn đến tham dự buổi tiệc chung vui cùng gia đình chúng tôi!" />
<meta name="keywords" content="Wedding, Wedding website, Website đám cưới, Tạo website đám cưới miễn phí" />
<meta property="og:site_name" content="Minh Hoàng &amp; Hải Đoan Wedding!">
<meta property="og:type" content="website" />
<meta property="og:title" content="Thân mời bạn và gia đình !" />
<meta property="og:url" content="661cd02152a28ec3a0074131d6e2.html?v=1713164946951" />
<meta property="og:description" content="Trân trọng kính mời bạn và gia đình đến tham dự buổi tiệc chung vui cùng gia đình chúng tôi!" />
<meta property="og:image" content="https://i.ibb.co/hX8B6YQ/IMG-6970.jpg">
<meta property="og:image:secure_url" content="https://i.ibb.co/hX8B6YQ/IMG-6970.jpg">
<meta property="og:image:width" content="960">
<meta property="og:image:height" content="1351">
<meta property="og:image:alt" content="Thiệp cưới Hoàng Đoan">
<meta property="og:image:type" content="image/jpeg">
<link rel="shortcut icon" type="image/x-icon" href="https://iwedding.info/favicon.ico"><link href="https://fonts.googleapis.com/css2?family=Jura:wght@300&amp;family=MonteCarlo&amp;family=Tourney:wght@100&amp;display=swap" rel="stylesheet">
<link rel="stylesheet" href="invitation/style8034.css?v=20240323">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K9L0ZFE1PJ"></script>
<script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-K9L0ZFE1PJ');</script>
</head>
<body>
<img src="../../cdn.biihappy.com/ziiweb/website/661c235b3eb144244807bbd0/29050b00ae7474e76d3a62c150c59d37.jpg" style="display:none;"/>
<div class="invitation-container">
	<div style="height: 100%;margin: 10px;">
		<canvas class="invitation-card" id="invitation-card"></canvas>
	</div>
		<div style="height: 100%;margin: 10px;">
		<canvas class="invitation-card" id="invitation-card-2"></canvas>
	</div>
		</div>
<div class="footer">
	<div class="container">
		<div class="invitation-button">
			<button class="btn btn-dark" id="btn-rsvp">Xác nhận tham dự</button>
			<a class="a-bii-small-logo" href="https://hoangled13cn5.github.io/my-wedding/" style="visibility: hidden;"><img class="bii-small-logo" src="../../iwedding.info/common/imgs/biif63f.png?v=20210131" /></a>
			<a class="btn btn-dark" href="https://hoangled13cn5.github.io/my-wedding/" target="_blank">Thông tin cưới</a>
		</div>
	</div>
</div>

<div id="rsvpModal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2>Xác nhận tham dự</h2>
		</div>
		<div class="modal-body">
			 <form id="updateGuestForm" method="post">
				<div class="row">
						<div class="col-sm-6 col-12" style="margin-bottom: 10px;">
							<select class="form-select" name="attendance_status" id="attendance_status_id" style="margin-top: 4px;">
								<option value="">Bạn sẽ tham gia chứ?</option>
																	<option value="0" >Chưa xác định trước được</option>
																	<option value="1" >Tôi sẽ tham gia</option>
																	<option value="2" >Tôi không Tham gia được</option>
															</select>
						</div>
						<div class="col-12" style="margin-bottom: 10px;">
							<textarea
							  name="message"
							  id="message"
							  class="form-control vs-attendance-message"
							  rows="4"
							  placeholder="Nhập lời chúc đến cô dâu/chú rể..."
							  style="
								width: 100%;
								border-radius: 10px;
								padding: 12px 16px;
								font-size: 15px;
								font-family: 'Playfair Display', serif;
								resize: none;
								border: 1px solid #ccc;
								box-shadow: 0 1px 3px rgba(0,0,0,0.05);
							  "></textarea>
						  </div>
						
				</div>
				<div class="message-success" style="display: none;">
					<div class="form-message form-message-success">
						<svg width="17px" height="17px" viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="ng-scope"><title>F28A5059-2988-42E8-A07D-911419DD80B1</title><desc>Created with sketchtool.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Guest-List---Add-Inline-Dialogs" transform="translate(-730.000000, -252.000000)" fill="#78CC61"><g id="dialog" transform="translate(690.000000, 216.000000)"><g id="message" transform="translate(40.000000, 26.000000)"><path d="M8.5,10 C3.80553623,10 0,13.8055362 0,18.5 C0,23.1944638 3.80553623,27 8.5,27 C13.1944638,27 17,23.1944638 17,18.5 C17,13.8055362 13.1944638,10 8.5,10 Z M12.5538841,14.7117101 L13.5931014,15.7627536 C11.2406957,18.1151594 8.88878261,20.4670725 6.53686957,22.8194783 C5.50307246,21.7625217 4.45202899,20.7233043 3.40689855,19.6781739 L4.44611594,18.6384638 L6.53686957,20.7287246 L12.5538841,14.7117101 Z" id="icon-green-success"></path></g></g></g></g></svg>
						<span style="margin-left: 5px;"></span>
					</div>
				</div>
				<div class="message-error text-danger" style="display: none;color:red;">
					<div class="form-message form-message-error">
						<svg width="17px" height="17px" viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="ng-scope"><title>Page 1</title><desc></desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-6" transform="translate(0.000000, -2.000000)" fill="#71D9BC"><path d="M8.5,2 C3.79641481,2 0,5.79641481 0,10.5 C0,15.2035852 3.79641481,19 8.5,19 C13.2035852,19 17,15.2035852 17,10.5 C17,5.79641481 13.2035852,2 8.5,2 L8.5,2 Z M10,15.165872 C10,15.6130558 9.60377883,16 9.14587385,16 L7.854404,16 C7.39622117,16 7,15.6130558 7,15.165872 L7,9.83439935 C7,9.36577897 7.39622117,9 7.854404,9 L9.14587385,9 C9.60377883,9 10,9.38694422 10,9.83439935 L10,15.165872 Z M8.49124329,8 C7.67497633,8 7,7.32894118 7,6.5 C7,5.67082353 7.67497633,5 8.49124329,5 C9.32502367,5 10,5.67082353 10,6.5 C10,7.32894118 9.32502367,8 8.49124329,8 L8.49124329,8 Z" id="Page-1"></path></g></g></svg>
						<span style="margin-left: 5px;"></span>
					</div>
				</div>

				<div class="action-btns">
					<button class="btn btn-dark btn-dark-1">Gửi phản hồi</button>

										<button type="button" class="btn btn-dark btn-dark-1 close">Bỏ qua</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div id="donate-modal" class="donate-modal modal">
	<div class="donate-modal-content modal-content">
		<div class="donate-modal-header modal-header">
			<strong>
				<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-coin" viewBox="0 0 16 16">
					<path d="M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9H5.5zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518l.087.02z"/>
					<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
					<path d="M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11zm0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"/>
				</svg> 
				<span>Hộp mừng cưới</span>
			</strong>
		</div>
		<div class="donate-modal-body modal-body">
			<div class="donate-box">
											</div>
		</div>
	</div>
</div>
<div id="page_loader" class="page_loader">
	<div id="loader">
		<img height="20" src="invitation/loading.svg">
	</div>
</div>
<div class="mouse-scroll" style="visibility:hidden;">
	<div class="text">Kéo xuống</div>
	<div class="left"></div>
	<div class="right"></div>
</div>

<script type="text/javascript">
	// Lấy phần query string của URL (phần sau dấu ?)
const queryString = window.location.search;

// Tạo đối tượng URLSearchParams từ query string
const urlParams = new URLSearchParams(queryString);

// Encode Unicode (vd: tiếng Việt) sang base64
function encodeUnicodeToBase64(str) {
  return btoa(unescape(encodeURIComponent(str)));
}

// Decode base64 về Unicode
function decodeBase64ToUnicode(base64) {
  return decodeURIComponent(escape(atob(base64)));
}

const text = "Xin chào thế giới!";
const encoded = encodeUnicodeToBase64(text);
const decoded = decodeBase64ToUnicode('QmHMo24gVHXDosyBbiBIYcyJaSB2YcyAIG5nxrDGocyAaSB0aMawxqFuZw==');

console.log(encoded); // "WGluIGNow6FvIHRo4bqleSBnaWnhIQ=="
console.log(decoded); // "Xin chào thế giới!"

// Lấy giá trị của các tham số
const name = urlParams.get('name'); // "JohnDoe"
const time = urlParams.get('time'); 
const date = urlParams.get('date'); 
const xungho = urlParams.get('xungho'); 
const vaive = urlParams.get('vaive'); 

	const invitationInfo = {
		'templateID': 'h2',
		'guest_name': (name === '' || name === null)  ? 'Bạn và gia đình' : decodeBase64ToUnicode(name),
		'time': (time === '' || time === null)  ? '10h30' : decodeBase64ToUnicode(time),
		'date': (date === '' || date === null)  ? 'Thứ 5, ngày 8/5/2025' : decodeBase64ToUnicode(date),
		'xungho': (xungho === '' || xungho === null)  ? 'chúng tôi' : decodeBase64ToUnicode(xungho),
		'vaive': (vaive === '' || vaive === null)  ? 'quý khách' : decodeBase64ToUnicode(vaive),
	};
	const biicore = {webroot : 'https://weddinghappy95.iwedding.info', coreSite: 'https://biihappy.com', webToken: '661c235b3eb144244807bbd0'};

	document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('updateGuestForm');

    form.addEventListener('submit', function (e) {
      e.preventDefault(); // Ngăn trình duyệt submit mặc định

      // Tạo FormData từ form
      const formData = new FormData(form);

	  console.log($('#attendance_status_id'));
	  console.log($('#message'));
	  const data = {
                    name: (name === '' || name === null)  ? 'Bạn và gia đình' : decodeBase64ToUnicode(name),
                    phone: '0359544034',
                    attend: $('#attendance_status_id') === 1 ? 'Có': 'Không',
                    guest_of: 'Nhà Trai',
                    guest: '1',
                    message: $('#message').val()
                };
                console.log(JSON.stringify(data));
                $('#loading').show();
                $.ajax({
                    url: 'https://sandboxlending.vnptmedia.vn/topi/vam/register', // Thay thế bằng URL Webhook của bạn
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(data),
                    success: function(response) {
						document.querySelector('.message-success').style.display = 'block';
						document.querySelector('.message-error').style.display = 'none';
                    },
                    error: function(xhr, status, error) {
                        $('#loading').hide();
                        console.error('Lỗi:', error);
						document.querySelector('.message-success').style.display = 'block';
						document.querySelector('.message-error').style.display = 'none';
                    }
                });
    });
  });

</script>
<script type="text/javascript" src="invitation/scriptdd56.js?v=20240623"></script>
<script type="text/javascript" src="invitation/templates/h3/staticdd56.js"></script>
</body>
</html>
